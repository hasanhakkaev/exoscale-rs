/*
 * Exoscale Public API
 *
 *  Infrastructure automation API, allowing programmatic access to all Exoscale products and services.  The [OpenAPI Specification](http://spec.openapis.org/oas/v3.0.3.html) source of this documentation can be obtained here:  * [JSON format](https://openapi-v2.exoscale.com/source.json) * [YAML format](https://openapi-v2.exoscale.com/source.yaml)
 *
 * The version of the OpenAPI document: 2.0.0
 * Contact: api@exoscale.com
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct BackgroundBgWriterSettings {
    /// Specifies the delay between activity rounds for the background writer in milliseconds. Default is 200.
    #[serde(rename = "bgwriter_delay", skip_serializing_if = "Option::is_none")]
    pub bgwriter_delay: Option<u16>,
    /// Whenever more than bgwriter_flush_after bytes have been written by the background writer, attempt to force the OS to issue these writes to the underlying storage. Specified in kilobytes, default is 512. Setting of 0 disables forced writeback.
    #[serde(rename = "bgwriter_flush_after", skip_serializing_if = "Option::is_none")]
    pub bgwriter_flush_after: Option<u16>,
    /// In each round, no more than this many buffers will be written by the background writer. Setting this to zero disables background writing. Default is 100.
    #[serde(rename = "bgwriter_lru_maxpages", skip_serializing_if = "Option::is_none")]
    pub bgwriter_lru_maxpages: Option<u32>,
    /// The average recent need for new buffers is multiplied by bgwriter_lru_multiplier to arrive at an estimate of the number that will be needed during the next round, (up to bgwriter_lru_maxpages). 1.0 represents a “just in time” policy of writing exactly the number of buffers predicted to be needed. Larger values provide some cushion against spikes in demand, while smaller values intentionally leave writes to be done by server processes. The default is 2.0.
    #[serde(rename = "bgwriter_lru_multiplier", skip_serializing_if = "Option::is_none")]
    pub bgwriter_lru_multiplier: Option<f64>,
}

impl BackgroundBgWriterSettings {
    pub fn new() -> BackgroundBgWriterSettings {
        BackgroundBgWriterSettings {
            bgwriter_delay: None,
            bgwriter_flush_after: None,
            bgwriter_lru_maxpages: None,
            bgwriter_lru_multiplier: None,
        }
    }
}

